<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - FoodDeliveryWebApp</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="~/frontend/img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Lora:wght@600;700&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Toastr -->
    <link rel="stylesheet" href="~/assets/vendor/toastr/css/toastr.min.css">
    @*<link href="../../Assets/vendor/sweetalert2/dist/sweetalert2.min.css" rel="stylesheet">*@
    @* <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"> *@
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.css" />

    <!-- Libraries Stylesheet -->
    <link href="~/frontend/lib/animate/animate.min.css" rel="stylesheet">
    <link href="~/frontend/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Pick date -->
    <link rel="stylesheet" href="~/assets/vendor/pickadate/themes/default.css">
    <link rel="stylesheet" href="~/assets/vendor/pickadate/themes/default.date.css">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="~/frontend/css/bootstrap.min.css" rel="stylesheet">

	<!-- Template Stylesheet -->
	<link href="~/frontend/css/style.css" rel="stylesheet" />
    <style>
        .active{
            color:aquamarine;
        }
    </style>
</head>
<body>
   @*  <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div class="container-fluid">
                <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index">FoodDeliveryWebApp</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header> *@
    <!-- Navbar Start -->
    <div class="container-fluid fixed-top px-0 wow fadeIn" data-wow-delay="0.1s">
        <div class="top-bar row gx-0 align-items-center d-none d-lg-flex">
            <div class="col-lg-6 px-5 text-start">
                <small><i class="fa fa-map-marker-alt me-2"></i>6 Street, Siem Reap, Cambodia</small>
                <small class="ms-4"><i class="fa fa-envelope me-2"></i>Foody@delivery.com</small>
            </div>
            <div class="col-lg-6 px-5 text-end">
                <small>Follow us:</small>
                <a class="text-body ms-3" href=""><i class="fab fa-facebook-f"></i></a>
                <a class="text-body ms-3" href=""><i class="fab fa-twitter"></i></a>
                <a class="text-body ms-3" href=""><i class="fab fa-linkedin-in"></i></a>
                <a class="text-body ms-3" href=""><i class="fab fa-instagram"></i></a>
            </div>
        </div>

        <nav class="navbar navbar-expand-lg navbar-light py-lg-0 px-lg-5 wow fadeIn" data-wow-delay="0.1s">
            <a href="index.html" class="navbar-brand ms-4 ms-lg-0">
                <h1 class="fw-bold text-primary m-0">F<span class="text-secondary">oo</span>dy</h1>
            </a>
            <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav ms-auto p-4 p-lg-0">
                    <a id="homeLink" class="nav-item nav-link" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                    <a id="menuLink" href="#" class="nav-item nav-link" onclick="redirectToFrontViewProduct()">Menu</a>
                    <a id="aboutUsLink" href="#" class="nav-item nav-link" onclick="redirectToAboutUs()">About Us</a>
                    <a id="contactUsLink" href="contact.html" class="nav-item nav-link">Contact Us</a>

                    <script>
                        

                        function redirectToFrontViewProduct() {
                            // Assuming your create form action is named "Create"
                            var createFormUrl = '@Url.Action("FrontViewProduct", "FrontPages")';
                            window.location.href = createFormUrl;
                        }
                        function redirectToAboutUs() {
                            // Assuming your create form action is named "Create"
                            var createFormUrl = '@Url.Action("AboutUs", "FrontPages")';
                            window.location.href = createFormUrl;
                        }
                        function redirectToProfileUser() {
                            // Assuming your create form action is named "Create"
                            var createFormUrl = '@Url.Action("ProfileUser", "Account")';
                            window.location.href = createFormUrl;
                        }

                        function showCartProducts() {
                            // Assuming your create form action is named "Create"
                            var createFormUrl = '@Url.Action("GetCartProducts", "FrontPages")';
                            window.location.href = createFormUrl;
                        }

                        
                        // function redirectToFrontViewProduct() {
                        //     // Assuming your create form action is named "Create"
                        //     var createFormUrl = '@Url.Action("FrontViewProduct", "FrontPages")';
                        //     window.location.href = createFormUrl;
                        // }
                    </script>
                   @*  <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Pages</a>
                        <div class="dropdown-menu m-0">
                            <a href="blog.html" class="dropdown-item">Blog Grid</a>
                            <a href="feature.html" class="dropdown-item">Our Features</a>
                            <a href="testimonial.html" class="dropdown-item">Testimonial</a>
                            <a href="404.html" class="dropdown-item">404 Page</a>
                        </div>
                    </div> *@
                </div>

                @if (!User.Identity.IsAuthenticated)
                {
                    <a class="btn btn-rounded btn-warning" onclick="redirectToCreateForm()">Sign In</a>

                    <script>
                        function redirectToCreateForm() {
                            // Assuming your create form action is named "Create"
                            var createFormUrl = '@Url.Action("Login", "Account")';
                            window.location.href = createFormUrl;
                        }

                        
                       
                    </script>
                }
                else
                {
                    <div class="d-none d-lg-flex ms-2">
                        <a class="btn-sm-square bg-white rounded-circle ms-3" href="">
                            <small class="fa fa-search text-body"></small>
                        </a>
                        <a class="btn-sm-square bg-white rounded-circle ms-3" href="#" onclick="redirectToProfileUser()">
                            <small class="fa fa-user text-body"></small>
                        </a>
                        <a class="btn-sm-square bg-white rounded-circle ms-3 position-relative" href="#" onclick="showCartProducts()">
                            <small class="fa fa-shopping-bag text-body"></small>
                            <span id="cartItemCountContainer"></span>
                        </a>

                    </div>


                    @if (User.Identity.IsAuthenticated && User.IsInRole("admin") || User.Identity.IsAuthenticated && User.IsInRole("staff"))
                    {
                        <div class="d-none d-lg-flex ms-2">
                            <form asp-area="" asp-controller="Dashboard" asp-action="Index">
                                <button id="btnDashboard" class="btn btn-rounded btn-warning" href="#">
                                    Dashboard
                                </button>
                            </form>

                        </div>
                    }

                    

                    <div class="d-none d-lg-flex ms-2">
                        <form asp-area="" asp-controller="Account" asp-action="Logout">
                            <button id="btnLogout" class="btn btn-rounded btn-warning" href="#">
                                Logout
                            </button>
                        </form>

                    </div>

                   
                }

            </div>
        </nav>
    </div>
    <!-- Navbar End -->
    <div class="container">


        <main role="main" class="pb-3">
            @if(ViewData["PageType"] == "Menu")
            {
                @* @Html.Partial("../Product/FrontViewProduct.cshtml") *@
            }
            else if (ViewData["PageType"] == "AboutUs")
            {
                
            }
            else if (ViewData["PageType"] == "ProfileUser")
            {

            }
            else if (ViewData["PageType"] == "ProductDetail")
            {

            } 
            else if (ViewData["PageType"] == "CartPage")
            {

            } 
            else if (ViewData["PageType"] == "PaymentPage")
            {

            }
            else if (ViewData["PageType"] == "ProfileUser")
            {
                @Html.Partial("../Account/Partials/ProfileTab.cshtml")
            }
            else if (ViewData["PageType"] == "PasswordTab")
            {
                @Html.Partial("../Account/Partials/PasswordTab.cshtml")
            }
            else if (ViewData["PageType"] == "OrderHistoryTab")
            {
                @Html.Partial("../Account/Partials/OrderHistoryTab.cshtml")
            }
            else
            {             
                <!-- Carousel Start -->
                <div class="container-fluid p-0 mb-5 wow fadeIn" data-wow-delay="0.1s">
                    <div id="header-carousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img class="w-100" src="~/frontend/img/carousel-1.jpg" alt="Image">
                                <div class="carousel-caption">
                                    <div class="container">
                                        <div class="row justify-content-start">
                                            <div class="col-lg-7">
                                                <h1 class="display-2 mb-5 animated slideInDown">Organic Food Is Good For Health</h1>
                                                <a href="" class="btn btn-primary rounded-pill py-sm-3 px-sm-5">Products</a>
                                                <a href="" class="btn btn-secondary rounded-pill py-sm-3 px-sm-5 ms-3">Services</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <img class="w-100" src="~/frontend/img/carousel-2.jpg" alt="Image">
                                <div class="carousel-caption">
                                    <div class="container">
                                        <div class="row justify-content-start">
                                            <div class="col-lg-7">
                                                <h1 class="display-2 mb-5 animated slideInDown">Natural Food Is Always Healthy</h1>
                                                <a href="" class="btn btn-primary rounded-pill py-sm-3 px-sm-5">Products</a>
                                                <a href="" class="btn btn-secondary rounded-pill py-sm-3 px-sm-5 ms-3">Services</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#header-carousel"
                                data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#header-carousel"
                                data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
                <!-- Carousel End -->
                <!-- About Start -->
                <div class="container-xxl py-5">
                    <div class="container">
                        <div class="row g-5 align-items-center">
                            <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s">
                                <div class="about-img position-relative overflow-hidden p-5 pe-0">
                                    <img class="img-fluid w-100" src="img/about.jpg">
                                </div>
                            </div>
                            <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
                                <h1 class="display-5 mb-4">Best Organic Fruits And Vegetables</h1>
                                <p class="mb-4">Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita erat ipsum et lorem et sit, sed stet lorem sit clita duo justo magna dolore erat amet</p>
                                <p><i class="fa fa-check text-primary me-3"></i>Tempor erat elitr rebum at clita</p>
                                <p><i class="fa fa-check text-primary me-3"></i>Aliqu diam amet diam et eos</p>
                                <p><i class="fa fa-check text-primary me-3"></i>Clita duo justo magna dolore erat amet</p>
                                <a class="btn btn-primary rounded-pill py-3 px-5 mt-3" href="">Read More</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- About End -->
                <!-- Feature Start -->
                <div class="container-fluid bg-light bg-icon my-5 py-6">
                    <div class="container">
                        <div class="section-header text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 500px;">
                            <h1 class="display-5 mb-3">Our Features</h1>
                            <p>Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed rebum vero dolor duo.</p>
                        </div>
                        <div class="row g-4">
                            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="bg-white text-center h-100 p-4 p-xl-5">
                                    <img class="img-fluid mb-4" src="~/frontend/img/icon-1.png" alt="">
                                    <h4 class="mb-3">Natural Process</h4>
                                    <p class="mb-4">Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed vero dolor duo.</p>
                                    <a class="btn btn-outline-primary border-2 py-2 px-4 rounded-pill" href="">Read More</a>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
                                <div class="bg-white text-center h-100 p-4 p-xl-5">
                                    <img class="img-fluid mb-4" src="~/frontend/img/icon-2.png" alt="">
                                    <h4 class="mb-3">Organic Products</h4>
                                    <p class="mb-4">Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed vero dolor duo.</p>
                                    <a class="btn btn-outline-primary border-2 py-2 px-4 rounded-pill" href="">Read More</a>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.5s">
                                <div class="bg-white text-center h-100 p-4 p-xl-5">
                                    <img class="img-fluid mb-4" src="~/frontend/img/icon-3.png" alt="">
                                    <h4 class="mb-3">Biologically Safe</h4>
                                    <p class="mb-4">Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed vero dolor duo.</p>
                                    <a class="btn btn-outline-primary border-2 py-2 px-4 rounded-pill" href="">Read More</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Feature End -->
            }

            @RenderBody()
        </main>
    </div>

    @* <footer class="border-top footer text-muted">
        <div class="container">
            &copy; 2024 - FoodDeliveryWebApp - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
        </div>
    </footer> *@
    <!-- Footer Start -->
    <div class="container-fluid bg-dark footer mt-5 pt-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-3 col-md-6">
                    <h1 class="fw-bold text-primary mb-4">F<span class="text-secondary">oo</span>dy</h1>
                    <p>Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita erat ipsum et lorem et sit, sed stet lorem sit clita</p>
                    <div class="d-flex pt-2">
                        <a class="btn btn-square btn-outline-light rounded-circle me-1" href=""><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-square btn-outline-light rounded-circle me-1" href=""><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-square btn-outline-light rounded-circle me-1" href=""><i class="fab fa-youtube"></i></a>
                        <a class="btn btn-square btn-outline-light rounded-circle me-0" href=""><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-light mb-4">Address</h4>
                    <p><i class="fa fa-map-marker-alt me-3"></i>123 Street, New York, USA</p>
                    <p><i class="fa fa-phone-alt me-3"></i>+012 345 67890</p>
                    <p><i class="fa fa-envelope me-3"></i>info@example.com</p>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-light mb-4">Quick Links</h4>
                    <a class="btn btn-link" href="">About Us</a>
                    <a class="btn btn-link" href="">Contact Us</a>
                    <a class="btn btn-link" href="">Our Services</a>
                    <a class="btn btn-link" href="">Terms & Condition</a>
                    <a class="btn btn-link" href="">Support</a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-light mb-4">Newsletter</h4>
                    <p>Dolor amet sit justo amet elitr clita ipsum elitr est.</p>
                    <div class="position-relative mx-auto" style="max-width: 400px;">
                        <input class="form-control bg-transparent w-100 py-3 ps-4 pe-5" type="text" placeholder="Your email">
                        <button type="button" class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2">SignUp</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid copyright">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                        &copy; <a href="#">Your Site Name</a>, All Right Reserved.
                    </div>
                    <div class="col-md-6 text-center text-md-end">
                        <!--/*** This template is free as long as you keep the footer author’s credit link/attribution link/backlink. If you'd like to use the template without the footer author’s credit link/attribution link/backlink, you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". Thank you for your support. ***/-->
                        Designed By <a href="https://htmlcodex.com">HTML Codex</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->
    


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded-circle back-to-top"><i class="bi bi-arrow-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/frontend/lib/wow/wow.min.js"></script>
    <script src="~/frontend/lib/easing/easing.min.js"></script>
    <script src="~/frontend/lib/waypoints/waypoints.min.js"></script>
    <script src="~/frontend/lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- pickdate -->
    <script src="~/assets/vendor/pickadate/picker.js"></script>
    <script src="~/assets/vendor/pickadate/picker.time.js"></script>
    <script src="~/assets/vendor/pickadate/picker.date.js"></script>

    <!-- Pickdate -->
    <script src="~/assets/js/plugins-init/pickadate-init.js"></script>

    <!-- All init script -->
    <script src="~/assets/js/plugins-init/toastr-init.js"></script>

    <!-- Toastr -->
    <sript src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></sript>
    <script src="~/assets/js/plugins-init/toastr-init.js"></script>
    <script src="~/assets/vendor/toastr/js/toastr.min.js"></script>
    <script src="~/assets/vendor/sweetalert2/dist/sweetalert2.min.js"></script>

	<script src="~/js/script.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
    <script>
        $(document).ready(function (){
            updateCartItemCount();

            function updateCartItemCount() {
                $.ajax({
                    url: '/FrontPages/CountCarts',
                    type: 'GET',
                    success: function (data) {
                        // Check if CartItemCount is present in the response
                        console.log(data);
                        if (data && data.cartItemCount !== undefined) {
                            // Update the UI with the cart count
                            $('#cartItemCountContainer').html(
                                `<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                ${data.cartItemCount}
                                <span class="visually-hidden">unread messages</span>
                            </span>`
                            );
                        } else {
                            // No cart found, show 0
                            $('#cartItemCountContainer').html(
                                `<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                0
                                <span class="visually-hidden">unread messages</span>
                            </span>`
                            );
                        }
                        
                    },
                    error: function () {
                        console.error('Error fetching cart count.');
                    }
                });
            }

            

        });
    </script>

	<!-- All init script -->
	<script src="~/js/script.js"></script>
    
	<script src="~/js/script.js"></script>
    
	<script src="~/js/script.js"></script>
    <!-- Template Javascript -->
    <script src="~/frontend/js/main.js"></script>
</body>
</html>
